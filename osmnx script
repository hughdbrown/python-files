# Link that gave me the idea: http://geoffboeing.com/2016/11/osmnx-python-street-networks/
#https://github.com/kjordahl/SciPy-Tutorial-2015/issues/1 for help on how to install osmnx
# used /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" in terminal to install homebrew first
# issue is with rTree (which has a dependency on libspatialindex)
# rTree is needed to install osmnx
import osmnx as ox
city = ox.gdf_from_place('Bermuda Dunes, CA')
ox.plot_shape(ox.project_gdf(city))

places = ox.gdf_from_places(['Bermuda Dunes, CA', 'Palm Desert, CA', 'Indio, CA'])
places = ox.project_gdf(places)
ox.save_gdf_shapefile(places)
ox.plot_shape(ox.project_gdf(places))

G = ox.graph_from_address('41500 Alligator Pond Rd, Bermuda Dunes, CA', network_type='drive')
ox.plot_graph(G)


G = ox.graph_from_place('Bermuda Dunes, California', network_type='drive')
ox.plot_graph(G)


G = ox.graph_from_place('Bermuda Dunes, CA', network_type='walk')
basic_stats = ox.basic_stats(G)
print(basic_stats['circuity_avg'])
extended_stats = ox.extended_stats(G, bc=True)
print(extended_stats['betweenness_centrality_avg'])

G = ox.graph_from_place('Santa Monica, CA', network_type='walk')
basic_stats = ox.basic_stats(G)
print(basic_stats['circuity_avg'])
extended_stats = ox.extended_stats(G, bc=True)
print(extended_stats['betweenness_centrality_avg'])
